!function(window,document){function buildToolbar(){if(!document.body)return void addEvent(document,"DOMContentLoaded",buildToolbar);var t,e=(window.location.pathname||"").replace(/^\/|\/$|\.html?$/g,"").split(/\//),n=e[0],o=window.location.href,a=[],i=['<a href="/"><img src="/favicon.ico" alt="'+window.location.hostname+'" title="Andrew Dodson"/></a>'];if(each(e,function(t,n){t&&i.push('<a href="/'+e.slice(0,n+1).join("/")+'/">'+t+"</a>")}),n){var r=(window.location.pathname||"").replace(/^\/?([^\/]+)/g,"").replace(/\/$/,"/index.html");t="https://github.com/MrSwitch/"+n,a=['<a href="'+t+"/blob/master"+r+'" target="_blank" id="adorn-edit">Edit this page</a>','<a href="'+t+'" class="github-star-button" target="_blank" title="Stars"><i class="icon-github"></i><span class="speeach-bubble"></span></a>']}a.push('<a href="https://twitter.com/share" class="twitter-share-button" target="_blank" data-via="setData" title="Tweet"><i class="icon-twitter"></i><span class="speeach-bubble"></span></a>'),document.body.insertBefore(create("aside",{"class":"toolbar",html:'<div class="breadcrumbs"> '+i.join(" ")+"</div> <div>"+a.join('<span class="period"></span>')+' <div class="clearfix"></div></div>'}),document.body.firstElementChild||document.body.firstChild),jsonp("http://urls.api.twitter.com/1/urls/count.json?url="+encodeURIComponent(o),function(t){each(".twitter-share-button span.speeach-bubble",function(){this.innerHTML=t.count||""})}),t&&jsonp("https://api.github.com/repos/MrSwitch/"+n+"?",function(t){each(".github-star-button span.speeach-bubble",function(){this.innerHTML=t.data.watchers||""})}),addEvent(document.querySelectorAll(".twitter-share-button"),"click",function(t){var e;t.preventDefault();var n=550,o=250,a=screen.width/2-n/2,i=screen.height/2-o/2;try{e=document.querySelector('meta[name="twitter:hashtag"').content}catch(r){}window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(document.title)+(e?"&hashtags="+e:"")+"&via="+this.getAttribute("data-via")+"&url="+encodeURIComponent(window.location.href.replace(/#.*/,"")),"twitter","width="+n+",height="+o+",left="+a+"px,top="+i+"px")})}function findPos(t){var e=0,n=0;if(t.offsetParent)do e+=t.offsetLeft,n+=t.offsetTop;while(t=t.offsetParent);return[e,n]}function insertAfter(t,e){e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)}function create(t,e){var n="string"==typeof t?document.createElement(t):t;if("object"==typeof e)if("tagName"in e)target=e;else for(var o in e)if(e.hasOwnProperty(o))if("text"===o)n.appendChild(document.createTextNode(e[o]));else if("html"===o)"string"==typeof e[o]?n.innerHTML=e[o]:n.appendChild(e[o]);else if("object"==typeof e[o])for(var a in e[o])e[o].hasOwnProperty(a)&&(n[o][a]=e[o][a]);else n.setAttribute(o,e[o]);return n}function addEvent(t,e,n){if(!(t instanceof window.NodeList))return e===!0?void n():void(t&&(t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&("DOMContentLoaded"===e&&(e="readystatechange",_listener=n,n=function(){"complete"===t.readyState&&_listener()}),t.attachEvent("on"+e,n))));for(var o=0;o<t.length;o++)addEvent(t[o],e,n)}function ready(t){"loading"!==document.readyState&&document.body?t():addEvent(document,"DOMContentLoaded",t)}function toggleClass(t,e){t.className.match(e)?removeClass(t,e):t.className+=" "+e}function removeClass(t,e){t.className=t.className.replace(e,"")}function jsonp(t,e){var n="jsonp_document_"+jsonp_counter++;window[n]=e;var o=document.getElementsByTagName("script")[0],a=document.createElement("script");a.src=t+"&callback="+n,a.async=!0,o.parentNode.insertBefore(a,o)}function each(t,e){"string"==typeof t&&(t=document.querySelectorAll(t));for(var n=0;n<t.length;n++)e.call(t[n],t[n],n)}var jsonp_counter=0;window.jsonp=jsonp,document.documentElement.className+=" "+("ontouchstart"in window?"":"no-")+"touch";for(var a="header,section,datalist,option,footer,nav,menu,aside,article,style,script".split(","),i=0;i<a.length;i++)document.createElement(a[i]);var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(create("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"}),s),buildToolbar(),ready(function(){document.body.appendChild(create("footer",{html:'Authored by <a href="http://adodson.com" rel="author">Andrew Dodson</a>'}))}),ready(function(){function tryitButton(pre,func){var btn=create("button",{html:"tryit","class":"tryit"});insertAfter(btn,pre),addEvent(btn,"click",function(){if(func)func();else{if("function"==typeof tryit&&!tryit(pre.innerText))return;setTimeout(function(){eval(pre.innerText)},100)}}),func||pre.setAttribute("contenteditable",!0)}var pres,i;for(pres=document.getElementsByTagName("pre"),i=0;i<pres.length;i++)("tryit"===pres[i].className||"tryitoffline"===pres[i].className)&&tryitButton(pres[i]);for(pres=document.getElementsByTagName("script"),i=0;i<pres.length;i++)!function(t){var e=t.getAttribute("data-tryit");e&&tryitButton(t,window[e]),t.getAttribute("src")&&addEvent(t,"click",function(){window.open(t.getAttribute("src"),"_blank")})}(pres[i]);for(pres=document.getElementsByTagName("link"),i=0;i<pres.length;i++)!function(t){t.getAttribute("href")&&addEvent(t,"click",function(){window.open(t.getAttribute("href"),"_blank")})}(pres[i]);if(document.querySelector){var last_depth=0,headings=document.querySelectorAll("h1,h2"),toc=document.querySelector("nav.toc");if(!toc){var h1=document.querySelectorAll("header,h1,h2");h1&&h1.length>1&&h1[0].parentNode===document.body&&(toc=create("nav",{"class":"toc"}),document.body.insertBefore(toc,h1[0].nextSibling))}var ul;if(toc){ul=create("ul");var toggle=create("a");addEvent(toc,"click",function(t){t.stopPropagation(),toggleClass(toc,"focus")}),addEvent(document,"click",function(){removeClass(toc,"focus")}),toc.appendChild(toggle)}for(i=0;i<headings.length;i++){var tag=headings[i],depth=parseInt(tag.tagName.match(/[0-9]/)[0],10),text=tag.innerText||tag.textContent||tag.innerHTML,ref=text.toLowerCase().replace(/\s/g,"-").replace(/[^a-z0-9\_\-]/g,"");tag.id=ref,tag.insertBefore(create("a",{name:ref,href:"#"+ref,"class":"anchor"}),tag.firstChild),ul&&ul.appendChild(create("li",{html:create("a",{href:"#"+ref,text:text,"class":tag.tagName}),id:"toc_"+ref}))}toc&&(toc.appendChild(ul),setTimeout(function(){document.documentElement.className+=" toc"}));var _prevScrollTop=document.body.scrollTop;if(addEvent(window,"scroll",function(){var t=Math.max(document.body.scrollTop,0),e=t>_prevScrollTop;_prevScrollTop=t;var n=document.documentElement.classList;n&&(n.add(e?"scrolledDown":"scrolledUp"),n.remove(e?"scrolledUp":"scrolledDown"))}),addEvent(window,"scroll",function(){for(var t=window.scrollY||window.pageYOffset,e=("screen"in window?window.screen.availHeight:500),n=0;n<headings.length;n++){var o=headings[n],a=(o.innerText||o.innerHTML,o.getElementsByTagName("a")[0]);a&&(a=a.getAttribute("href").replace(/^#/,""));{var i=findPos(o)[1]+100;(o.outerHeight||o.innerHeight)+50}if(i>t&&t+e>i){if(toc){var r=document.getElementById("toc_"+a);if("active"!==r.className){r.className="active";for(var c=toc.querySelectorAll(".active"),s=0;s<c.length;s++)c[s]!==r&&(c[s].className="")}}return void("history"in window&&"replaceState"in window.history&&window.location.hash!=="#"+a&&history.replaceState({},document.title,"#"+a))}}}),toc){var clist=toc.classList;if(clist){var tocY=findPos(toc)[1];addEvent(window,"scroll",function(){var t=window.scrollY||window.pageYOffset;t>tocY?clist.add("float"):clist.remove("float")})}}}})}(window,document);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-35317561-1"]),_gaq.push(["_trackPageview"]),function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}();